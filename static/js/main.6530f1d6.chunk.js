(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{107:function(e,t,n){e.exports=n(217)},112:function(e,t,n){},113:function(e,t,n){},114:function(e,t,n){},160:function(e,t,n){},206:function(e,t,n){},207:function(e,t,n){},208:function(e,t,n){},209:function(e,t,n){},215:function(e,t,n){},216:function(e,t,n){},217:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(13),r=n.n(c),i=(n(112),n(113),n(8)),l=n(9),s=n(11),u=n(10),m=n(12),h=n(221),p=n(106),g=n(223),d=n(222),f=(n(114),n(100)),b=n.n(f),E=function(){return o.a.createElement("div",null,"loading")},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E;return b()({loader:e,loading:t})},v=(n(117),n(101)),j=n.n(v),O=(n(160),n(220)),k=n(87),w=[{txt:"\u9996\u9875",path:"/main/home",name:"home",icon:"icon-home"},{txt:"\u5206\u7c7b",path:"/main/sort",name:"sort",icon:"icon-fenlei"},{txt:"\u8d2d\u7269\u8f66",path:"/main/shopping",name:"shopping",icon:"icon-tubiaozhizuomoban"},{txt:"\u6211\u7684",path:"/main/mine",name:"mine",icon:"icon-renyuanguanli"}],C=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={foots:w},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("footer",null,this.state.foots.map((function(e,t){return o.a.createElement("div",{key:t},o.a.createElement(O.a,{to:e.path,activeClassName:"nav-active"},o.a.createElement("i",{className:"iconfont "+e.icon}),o.a.createElement("span",null,e.txt),2==t&&o.a.createElement(j.a,{text:k.a.carNum,className:"hot",hot:!0,style:{marginLeft:5}})))})))}}]),t}(a.Component),x=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"main",style:{width:"100vw",height:"100vh"}},o.a.createElement(g.a,null,o.a.createElement(p.a,{path:"/main/",exact:!0,render:function(){return o.a.createElement(d.a,{to:"/main/home"})}}),o.a.createElement(p.a,{path:"/main/home",component:y((function(){return Promise.all([n.e(4),n.e(6)]).then(n.bind(null,249))}))}),o.a.createElement(p.a,{path:"/main/sort",component:y((function(){return n.e(8).then(n.bind(null,250))}))}),o.a.createElement(p.a,{path:"/main/shopping",component:y((function(){return Promise.all([n.e(3),n.e(7)]).then(n.bind(null,251))}))}),o.a.createElement(p.a,{path:"/main/mine",component:y((function(){return n.e(5).then(n.bind(null,252))}))}),o.a.createElement(p.a,{render:function(){return o.a.createElement(d.a,{to:"/main/home"})}})),o.a.createElement(C,{history:this.props.history}))}}]),t}(a.Component),N=(n(187),n(103)),L=n.n(N),S=(n(72),n(96)),I=n.n(S),P=(n(97),n(40)),D=n.n(P),F=(n(194),n(69)),z=n.n(F),B=(n(203),n(35)),T=n.n(B),q=(n(74),n(49)),M=n.n(q),A=(n(206),n(36)),G=n(7),$=/^1(3|5|7|8|9)\d{9}$/,J=/^\d{4}$/,Q=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).todoLogin=function(){G.a.post("/react/checkCode",{mobile:e.mobile.state.value,code:e.code.state.value}).then((function(t){console.log(t.data),sessionStorage.token=t.data.token,sessionStorage.mobile=e.mobile.state.value,G.b.push("/main/home")}))},e.sendCode=function(){G.a.post("/react/sendCode",{mobile:e.mobile.state.value}).then((function(e){})),e.computedTime()},e.checkMobile=function(t){e.state.toggle&&e.setState({mobileFlag:$.test(t),loginFlag:J.test(e.code.state.value)&&$.test(t)})},e.computedTime=function(){e.setState({count:--e.state.count,txt:"\u5012\u8ba1\u65f6 ".concat(e.state.count," S"),mobileFlag:!1,mFlag:!1});var t=setInterval((function(){e.state.count>0?e.setState({count:--e.state.count,txt:"\u5012\u8ba1\u65f6 ".concat(e.state.count," S"),mobileFlag:!1,toggle:!1,mFlag:!1}):(clearInterval(t),e.setState({count:60,txt:"\u53d1\u9001\u9a8c\u8bc1\u7801",mobileFlag:!0,toggle:!0,mFlag:!0}))}),1e3)},e.checkCode=function(t){e.setState({loginFlag:J.test(t)&&$.test(e.mobile.state.value)})},e.state={count:60,txt:"\u53d1\u9001\u9a8c\u8bc1\u7801",mFlag:!0,mobileFlag:!1,loginFlag:!1,toggle:!0},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){sessionStorage.mobile||G.b.push("/login")}},{key:"render",value:function(){var e=this,t=this.state,n=t.txt,a=t.mFlag,c=t.mobileFlag,r=t.loginFlag;return o.a.createElement("div",null,o.a.createElement("div",{className:"header"},o.a.createElement(M.a,{style:{backgroundColor:"#e32332"},mode:"light",leftContent:[],onLeftClick:function(){return console.log("onLeftClick")},rightContent:[]},o.a.createElement("p",{key:"1",style:{fontSize:"16px",color:"#fff",padding:"8px",width:"40px"}},"\u767b\u5f55"))),o.a.createElement(T.a,null),o.a.createElement(L.a,null,o.a.createElement(I.a,null,o.a.createElement(T.a,null),o.a.createElement(z.a,{type:"tel",placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",clear:!0,ref:function(t){return e.mobile=t},onChange:this.checkMobile,disabled:!a},"\u624b\u673a\u53f7"),o.a.createElement(T.a,null),o.a.createElement(z.a,{type:"number",placeholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",clear:!0,ref:function(t){return e.code=t},onChange:this.checkCode},"\u9a8c\u8bc1\u7801"),o.a.createElement(D.a,{onClick:this.sendCode,disabled:!c,type:"warning",className:"l-btn",size:"large",inline:!0},n),o.a.createElement(T.a,null)),o.a.createElement(T.a,null),o.a.createElement(D.a,{type:"warning",onClick:this.todoLogin,disabled:!r},"\u767b\u5f55")))}}]),t}(a.Component),R=(n(208),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h1",null,"Search"))}}]),t}(a.Component)),W=(n(209),n(68)),_=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={goods:[]},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;G.a.post("/react/goodList").then((function(t){console.log(t.data.result),e.setState({goods:t.data.result})}))}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(A.a,{title:"\u59dc\u5c0f\u864e",show:"true"}),o.a.createElement("div",null,o.a.createElement("img",{className:"headimg",src:"http://img.shop.wanmei.com/upload/moduleCover/2017-07-20/bb56c97b22804e35be8d838b8ebaa6de.jpg",alt:""})),o.a.createElement("h2",{style:{width:"100%",height:"50px",lineHeight:"50px",textAlign:"center",color:"#ffd253",background:"#fff"}},"\u70ed\u9500\u63a8\u8350"),o.a.createElement("ul",{className:"goodslist"},this.state.goods.map((function(e,t){return o.a.createElement("li",{key:t},o.a.createElement(W.a,{to:{pathname:"/shopdetail",query:{name:e.goodId}}},o.a.createElement("img",{src:e.goodImg,alt:""}),o.a.createElement("p",{className:"name"},"\u59dc\u5c0f\u864e\u2014\u2014",e.goodName),o.a.createElement("p",{className:"price"},"\uffe5",e.goodPrice)))}))))}}]),t}(a.Component),H=(n(210),n(104)),U=n.n(H);n(215);alert=U.a.alert;var K=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).jianNum=function(){var t=1*e.num.innerText;t>1&&(e.num.innerText=t-1)},e.jiaNum=function(){var t=1*e.num.innerText;e.num.innerText=t+1},e.goShopping=function(){var t=e.props.location.query.name,n=sessionStorage.mobile;G.a.post("/react/usershopping",{gId:t,mobile:n,count:1*e.num.innerText,goodImg:e.state.gDetail.goodImg,goodName:e.state.gDetail.goodName,goodPrice:e.state.gDetail.goodPrice}).then((function(e){console.log(e.data);alert("","\u662f\u5426\u524d\u5f80\u8d2d\u7269\u8f66\uff1f",[{text:"\u5426",onPress:function(){return console.log("cancel")},style:"default"},{text:"\u662f",onPress:function(){G.b.replace("/main/shopping")}}])}))},e.goBuy=function(){var t=e.props.location.query.name,n=sessionStorage.mobile;console.log(e.goodimg),G.a.post("/react/usershopping",{gId:t,mobile:n,count:1*e.num.innerText,goodImg:e.state.gDetail.goodImg,goodName:e.state.gDetail.goodName,goodPrice:e.state.gDetail.goodPrice}).then((function(e){console.log(e.data),G.b.push("/main/shopping")}))},e.state={gDetail:[]},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.location.query.name;G.a.post("/react/gooddetail",{gId:t}).then((function(t){e.setState({gDetail:t.data.result})}))}},{key:"render",value:function(){var e=this,t=this.state.gDetail;return o.a.createElement("div",{style:{width:"100%"}},o.a.createElement(A.a,{title:"\u5546\u54c1",show:"true"}),o.a.createElement("div",{className:"detail"},o.a.createElement("img",{src:t.goodImg,alt:""}),o.a.createElement("h2",null,"\u59dc\u5c0f\u864e\u2014\u2014",o.a.createElement("span",null,t.goodName)),o.a.createElement("p",null,"\u6b63\u7248\u59dc\u5c0f\u864e",t.goodId),o.a.createElement("h3",null,"\uffe5",o.a.createElement("span",null,t.goodPrice)),o.a.createElement("ul",null,o.a.createElement("li",null,"\u4ea7\u5730\uff1a\u5317\u4eac"),o.a.createElement("li",null,"\u8fd0\u8d39\uff1a",o.a.createElement("span",{className:"yuan"},"\uffe515")),o.a.createElement("li",null,"\u6570\u91cf\uff1a",o.a.createElement("span",{className:"jNum",onClick:this.jianNum},"-"),o.a.createElement("span",{className:"num",ref:function(t){return e.num=t}},"1"),o.a.createElement("span",{className:"aNum",onClick:this.jiaNum},"+")))),o.a.createElement("div",{className:"detailFooter"},o.a.createElement("span",{className:"goShopping"},o.a.createElement(D.a,{onClick:this.goShopping},"\u52a0\u5165\u8d2d\u7269\u8f66")),o.a.createElement("span",{className:"goBuy",onClick:this.goBuy},"\u7acb\u5373\u8d2d\u4e70")))}}]),t}(a.Component),V=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(g.a,null,o.a.createElement(p.a,{path:"/",exact:!0,render:function(){return o.a.createElement(d.a,{to:"/main/home"})}}),o.a.createElement(p.a,{path:"/main",component:x}),o.a.createElement(p.a,{path:"/login",component:Q}),o.a.createElement(p.a,{path:"/search",component:R}),o.a.createElement(p.a,{path:"/sortshopping",component:_}),o.a.createElement(p.a,{path:"/shopdetail",component:K}),o.a.createElement(p.a,{render:function(){return o.a.createElement(d.a,{to:"/main/home"})}}))}}]),t}(a.Component),X=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(h.a,{basename:""},o.a.createElement(p.a,{component:V}))}}]),t}(a.Component);var Y=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(X,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(216);Object(c.render)(o.a.createElement(Y,null),document.getElementById("root")),r.a.render(o.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},36:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));n(74);var a=n(49),o=n.n(a),c=(n(73),n(65)),r=n.n(c),i=n(8),l=n(9),s=n(11),u=n(10),m=n(12),h=n(0),p=n.n(h),g=(n(207),n(7)),d=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).goBack=function(){g.b.go(-1)},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.show;return p.a.createElement("div",{className:"header"},p.a.createElement(o.a,{style:{backgroundColor:"#e32332"},mode:"light",leftContent:[n?p.a.createElement("img",{key:"0",onClick:this.goBack,style:{width:"15px",height:"20px"},src:"http://static.wanmei.com/shop/mobile/images/icon_back.png"}):p.a.createElement("img",{key:"0",style:{display:"block",width:"60px",height:"25px"},src:"http://www.wanmei.com/zh/images/revision2016/logo_wm.png"})],onLeftClick:function(){return console.log("onLeftClick")},rightContent:[p.a.createElement(r.a,{key:"0",type:"search",style:{marginRight:"16px",color:"#fff"}})]},p.a.createElement("p",{key:"1",style:{fontSize:"16px",color:"#fff",padding:"8px",width:"40px"}},t)))}}]),t}(h.Component)},7:function(e,t,n){"use strict";var a=n(29),o=n.n(a),c="";o.a.defaults.baseURL="https://wuhanruanjian.xyz:1910/",o.a.defaults.headers.common.token=c,o.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",o.a.interceptors.request.use((function(e){return c=sessionStorage.token,e.headers.token=c,e}),(function(e){return Promise.reject(e)})),o.a.interceptors.response.use((function(e){return console.log(e),e}),(function(e){return Promise.reject(e)}));var r=new(n(20).a);n.d(t,"a",(function(){return o.a})),n.d(t,"b",(function(){return r}));n(179)},87:function(e,t,n){"use strict";var a,o,c,r,i,l,s,u,m=n(67),h=n.n(m),p=n(102),g=n(26),d=n(8),f=n(9),b=n(18),E=(n(162),n(17)),y=n(7),v=(a=function(){function e(){Object(d.a)(this,e),Object(g.a)(this,"carList",o,this),Object(g.a)(this,"getCarList",c,this),Object(g.a)(this,"changeCheckOne",r,this),Object(g.a)(this,"changeQuan",i,this),Object(g.a)(this,"changeOneCount",l,this),Object(g.a)(this,"changeCountByGoodId",s,this),Object(g.a)(this,"delGoodBySelect",u,this)}return Object(f.a)(e,[{key:"fetchCarList",value:function(){var e=Object(p.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("/react/getCarList",{mobile:sessionStorage.mobile});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"carNum",get:function(){var e=0;return this.carList.forEach((function(t){e+=t.count})),e}},{key:"checkNum",get:function(){var e=0;return this.carList.forEach((function(t){t.checked&&(e+=t.count)})),e}},{key:"total",get:function(){var e=0;return this.carList.forEach((function(t){t.checked&&(e+=t.count*t.goodPrice)})),e}},{key:"quan",get:function(){var e=!0;return this.carList.forEach((function(t){t.checked||(e=!1)})),e},set:function(e){this.carList=this.carList.map((function(t){return t.checked=e,t}))}}]),e}(),o=Object(b.a)(a.prototype,"carList",[E.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=Object(b.a)(a.prototype,"getCarList",[E.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){y.a.post("/react/getCarList",{mobile:sessionStorage.mobile}).then((function(t){e.carList=t.data.result}))}}}),r=Object(b.a)(a.prototype,"changeCheckOne",[E.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){y.a.post("/react/changechecked",{checked:t,goodId:n,mobile:sessionStorage.mobile}).then((function(a){e.carList=e.carList.map((function(e){return e.goodId==n&&(e.checked=t),e}))}))}}}),Object(b.a)(a.prototype,"carNum",[E.e],Object.getOwnPropertyDescriptor(a.prototype,"carNum"),a.prototype),Object(b.a)(a.prototype,"checkNum",[E.e],Object.getOwnPropertyDescriptor(a.prototype,"checkNum"),a.prototype),Object(b.a)(a.prototype,"total",[E.e],Object.getOwnPropertyDescriptor(a.prototype,"total"),a.prototype),Object(b.a)(a.prototype,"quan",[E.e],Object.getOwnPropertyDescriptor(a.prototype,"quan"),a.prototype),i=Object(b.a)(a.prototype,"changeQuan",[E.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){y.a.post("/react/changechecked",{checked:t,goodId:"-1",mobile:sessionStorage.mobile}).then((function(n){e.carList=e.carList.map((function(e){return e.checked=t,e}))}))}}}),l=Object(b.a)(a.prototype,"changeOneCount",[E.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){y.a.post("/react/changecount",{flag:n,goodId:t,count:"-1",mobile:sessionStorage.mobile}).then((function(a){e.carList=e.carList.map((function(e){return e.goodId==t&&(e.count+=n?1:-1),e}))}))}}}),s=Object(b.a)(a.prototype,"changeCountByGoodId",[E.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){y.a.post("/react/changecount",{goodId:t,count:n,mobile:sessionStorage.mobile}).then((function(a){e.carList=e.carList.map((function(e){return e.goodId==t&&(e.count=1*n),e}))}))}}}),u=Object(b.a)(a.prototype,"delGoodBySelect",[E.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){y.a.post("/react/delSelect",{mobile:sessionStorage.mobile}).then((function(t){e.carList=e.carList.filter((function(e){return!e.checked}))}))}}}),a);t.a=new v}},[[107,1,2]]]);
//# sourceMappingURL=main.6530f1d6.chunk.js.map