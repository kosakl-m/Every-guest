(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[5],{243:function(e,t,a){},244:function(e,t,a){},245:function(e,t,a){e.exports=a.p+"static/media/photo.00e3a0e6.png"},252:function(e,t,a){"use strict";a.r(t);var n=a(8),i=a(9),c=a(11),s=a(10),l=a(12),o=a(0),r=a.n(o),u=(a(243),a(36)),p=(a(244),a(7)),m=a(245),h=function(e){function t(){var e;return Object(n.a)(this,t),(e=Object(c.a)(this,Object(s.a)(t).call(this))).getPic=function(){p.a.post("/react/getAvatarPic").then((function(t){console.log(t),t.data.type,e.setState({pic:m})}))},e.startSend=function(){e.file.click()},e.uploadFile=function(){var t=e.file.files[0],a=new FormData;a.append("avatar",t),Object(p.a)({url:"/react/uploadavatar",method:"POST",data:a}).then((function(t){e.setState({pic:t.data.path.replace("public","https://wuhanruanjian.xyz:1910/")}),localStorage.setItem("userInfo",JSON.stringify({mobile:t.data.mobile,path:e.state.pic}))}))},e.state={pic:""},e}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("userInfo");e&&(e=JSON.parse(e)).mobile==sessionStorage.mobile?this.setState({pic:e.path}):this.getPic()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("img",{src:this.state.pic,alt:"",className:"touxiang",onClick:this.startSend}),r.a.createElement("input",{onChange:this.uploadFile,type:"file",ref:function(t){return e.file=t},className:"uploadinp"}))}}]),t}(o.Component),f=function(e){function t(){var e;return Object(n.a)(this,t),(e=Object(c.a)(this,Object(s.a)(t).call(this))).goLogin=function(){p.b.push("/login"),sessionStorage.clear()},e.state={mobile:""},e}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;p.a.post("/react/getMobile").then((function(t){t.data.type&&e.setState({mobile:t.data.result})})),sessionStorage.mobile||p.b.push("/login")}},{key:"render",value:function(){this.state.mobile;return r.a.createElement("div",{className:"mine"},r.a.createElement(u.a,{title:"\u4e2a\u4eba\u4e2d\u5fc3",show:"true"}),r.a.createElement("div",{className:"banner"},r.a.createElement("div",{className:"toux"},r.a.createElement(h,null)),r.a.createElement("h2",{onClick:this.goLogin},"\u7528\u6237\uff1a",sessionStorage.mobile),r.a.createElement("span",{className:"out",onClick:this.goLogin},"\u9000\u51fa"),r.a.createElement("span",{className:"outSan"})),r.a.createElement("ul",{className:"content"},r.a.createElement("li",null,r.a.createElement("span",{className:"san"}),"\u8bbe\u7f6e"),r.a.createElement("li",null,r.a.createElement("span",{className:"san"}),"\u8ba2\u5355"),r.a.createElement("li",null,r.a.createElement("span",{className:"san"}),"\u5730\u5740")))}}]),t}(o.Component);t.default=f}}]);
//# sourceMappingURL=5.4d7bf877.chunk.js.map